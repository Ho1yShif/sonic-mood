# ðŸŽµ Sonic mood

A modern, AI-powered music recommendation web application that demonstrates how to build beautiful frontends for pgvector-powered backends on Render. Users describe the music they want in natural language, and the app returns personalized song recommendations with AI-generated playlist names.

![Sonic Mood](https://img.shields.io/badge/React-19.1-blue) ![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue) ![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.1-blue) ![License](https://img.shields.io/badge/license-MIT-green)

## Features

- **Natural language search**: Describe the music you want in plain English
- **Semantic search**: Powered by pgvector in Render Postgres for intelligent song matching
- **AI-generated playlists**: Creative playlist names generated by OpenAI
- **Beautiful UI**: Modern, sleek design with purple/black theme
- **Fully responsive**: Works seamlessly on mobile, tablet, and desktop
- **Mock data mode**: Develop without a backend using realistic mock data

## Quickstart

### Prerequisites

- Node.js 18+ and npm
- Git

### Installation

1. **Clone the repository**
   ```bash
   git clone <your-repo-url>
   cd sonic-mood
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   ```bash
   cp .env.example .env
   ```

   Edit `.env` to configure your settings:
   ```env
   # Use mock data for development (no backend needed)
   VITE_USE_MOCK_DATA=true
   VITE_API_URL=http://localhost:3000/api
   ```

4. **Start the development server**
   ```bash
   bin/preview.sh
   ```

5. **Open your browser**
   Navigate to `http://localhost:5173`

That's it! The app will run with mock data by default.

### Development with mock data

By default, the app uses realistic mock data so you can develop without a backend. The mock API simulates:
- Network latency (500-1000ms)
- Different responses based on query keywords
- Occasional errors (5% chance) for testing error handling
- Validation errors for empty or invalid queries

To switch between mock and real API:
```env
# Use mock data
VITE_USE_MOCK_DATA=true

# Use real backend API
VITE_USE_MOCK_DATA=false
```

### Connect to a real backend

1. Update your `.env` file:
   ```env
   VITE_USE_MOCK_DATA=false
   VITE_API_URL=https://your-backend.onrender.com/api
   ```

2. Ensure your backend has an endpoint at `POST /recommendations` that accepts:
   ```json
   {
     "query": "string (max 500 chars)"
   }
   ```

3. And returns:
   ```json
   {
     "playlistName": "string",
     "recommendations": [
       {
         "id": "string",
         "title": "string",
         "artist": "string",
         "spotifyLink": "string | null"
       }
     ]
   }
   ```

## ðŸŽ¨ Design
- Purple: `#8a05ff` - Buttons, accents, highlights along with black and white
- Using Neue Montreal sans-serif font to align with Render sites
- Designed custom icons in Canva:
<img src="frontend-site/src/assets/note_purple.png" alt="custom logo purple" width="200" />
<img src="frontend-site/src/assets/note_white.png" alt="custom logo white" width="200" />
<img src="frontend-site/src/assets/note_black.png" alt="custom logo purple" width="200" />

## ðŸ“¡ API reference

### POST /recommendations

Fetches song recommendations based on natural language input.

**Request body:**
```json
{
  "query": "upbeat songs for a workout"
}
```

**Success response (200):**
```json
{
  "playlistName": "Energetic Workout Vibes",
  "recommendations": [
    {
      "id": "1",
      "title": "Eye of the Tiger",
      "artist": "Survivor",
      "spotifyLink": "https://open.spotify.com/track/..."
    }
    // ... 4 more songs
  ]
}
```